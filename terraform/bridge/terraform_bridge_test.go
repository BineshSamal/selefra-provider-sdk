package bridge

import (
	"testing"
)

func TestTerraformBridge_StartBridge(t *testing.T) {

}

func TestTerraformBridge_GetDetail(t *testing.T) {
	//
	//diagnostics := schema.NewDiagnostics()
	//
	//resultChannel := make(chan any, 100)
	//
	//providerConfig := map[string]any{
	//	"max_retries":       5,
	//	"region":            "us-east-1",
	//	"suppress_debugLog": true,
	//}
	//
	//bridge := NewTerraformBridge("xxx")
	//err := bridge.StartBridge(context.Background(), providerConfig)
	//assert.Nil(t, err)
	//meta := make(map[string]any, 0)
	//meta["region"] = "us-east-1"
	//d := bridge.GetDetail(context.Background(), "xxx", "xxx", meta, nil, nil, nil, resultChannel)
	//t.Log(diagnostics.AddDiagnostics(d).ToString())
	//r := <-resultChannel
	//t1 := column_value_extractor.EnsureJSONSerializable(r)
	//fmt.Println(json_util.ToJsonString(r))
	//fmt.Println(json_util.ToJsonString(t1))
}

func TestTerraformBridge_ListByIds(t *testing.T) {

	//diagnostics := schema.NewDiagnostics()
	//
	//resultChannel := make(chan any, 100)
	//
	//providerConfig := map[string]any{
	//	"max_retries":       5,
	//	"region":            "us-east-1",
	//	"suppress_debugLog": true,
	//}
	//
	//bridge := NewTerraformBridge("xxx")
	//err := bridge.StartBridge(context.Background(), providerConfig)
	//assert.Nil(t, err)
	//d := bridge.ListByIds(context.Background(), "xxx", []string{"dev-www.selefra.io", "selefra-demo"}, nil, nil, nil, resultChannel)
	//t.Log(diagnostics.AddDiagnostics(d).ToString())
	//close(resultChannel)
	//for result := range resultChannel {
	//	t.Log(json_util.ToJsonString(result))
	//}

}
